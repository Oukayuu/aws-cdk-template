# 目的
- **技術者のスキル向上と学習の促進**
  - テンプレートを提供し、CDKを使いやすくすることで、開発者に学習機会を与え、スキル向上を図りたい。
- **既存プロジェクトの効率化と再利用性の向上** 
  - 現在のシステム構成をテンプレート化することで、今後のプロジェクトで効率的かつ再利用可能なインフラ構築を実現したい。
- **標準化の推進**
  - テンプレートによる統一されたインフラ構成で、運用や保守を簡素化し、標準化を進めたい。
---
# 対象者
- **CDK初心者**
  - CDKにまだ慣れていない開発者でも、簡単にインフラを構築できるようにサポートしたい。
- **短期間でプロジェクトを立ち上げたい人**
  - テンプレートを使うことで、効率的にシステムを立ち上げたい人に活用してほしい。
- **インフラ構築の標準化を目指すチーム**
  - 統一されたインフラ構成を手軽に適用したいチームに利用してもらいたい。
- **過去のプロジェクトを再利用したい人**
  - 既存のシステム構成をベースに、新しいプロジェクトでも効率的に再利用したい人に使ってほしい。
---

# テンプレート概要
- イベント駆動型の予約システムを構築し、ユーザーがオンラインでリソースの予約を行える仕組みを提供する。
ユースケース例；
  - 特定時間を予約して、充電器で充電を行うサービス。
  - IoTを活用するスマート家電で、遠隔から家電の操作を予約するサービス。
  - 会議室、ホテルなどの予約機能の一部で、特定の時間にユーザーに情報配信するサービスして。
- システムはイベントトリガーを活用し、スケーラブルかつ高可用性の予約管理を実現する。
- アーキテクチャーはなるべく簡潔で、流用しやすい構成で検討する。
---

# AWS構成図
##　件名に使用する構成（簡略）

![Chargement構成図（一部）](chargement-template.png)

- **充電計画予約　処理の流れ**
　❶外部クライアントからのリクエストを受け取る
　❷〜❸リクエストされた内容を受付関数に渡して、内容をDBに登録する
　❹予約内容をSQSへ渡す（疎結合）
　❺eventBridge pipeに渡して、内容を整形する
　❻〜❼内容をスケジュール制御関数に渡して、スケジューラを作成する
　❽予約した時間に、スケジューラが実装され、必要な情報を実行関数に渡す
　❾実行関数の処理が終わり、DBに登録する
　　
---

##　Event-driven型予約システム 簡潔版構成

![簡潔版](event-driven-template.png)

- **簡潔版　処理の流れ**
　❶外部クライアントからのリクエストを受け取る
　❷API-GWのマップングテンプレートを使い、リクエストされた内容を整形して、DBに登録する
　❸DynamoDBストリームに更新をかけてイベントを発火して、スケジュール制御関数を呼び出す
　❹予約時間の元に、スケジューラーを作成する
　❺〜❻予約された時間に、実行関数の処理が実行され、DBに登録する

※再利用しやすくため、一番シンプルの構成となっている

